<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Personnalité IT</title>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; padding: 0; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const questions = [
          {
            id: 1,
            text: "Face à un bug critique en production, vous préférez :",
            options: [
              { text: "Analyser méthodiquement les logs avant d'agir", profile: "analytique" },
              { text: "Tester rapidement plusieurs solutions", profile: "pragmatique" },
              { text: "Consulter l'équipe pour avoir plusieurs avis", profile: "collaboratif" },
              { text: "Implémenter un rollback immédiat", profile: "prudent" }
            ]
          },
          {
            id: 2,
            text: "Votre approche idéale pour apprendre une nouvelle technologie :",
            options: [
              { text: "Lire la documentation complète", profile: "theorique" },
              { text: "Démarrer un projet pratique immédiatement", profile: "pratique" },
              { text: "Suivre des tutoriels structurés", profile: "structure" },
              { text: "Explorer le code source existant", profile: "explorateur" }
            ]
          },
          {
            id: 3,
            text: "Dans un projet agile, vous vous épanouissez le plus en :",
            options: [
              { text: "Architecture et conception technique", profile: "architecte" },
              { text: "Développement et implémentation", profile: "developpeur" },
              { text: "Revue de code et mentorat", profile: "mentor" },
              { text: "Coordination entre équipes", profile: "coordinateur" }
            ]
          },
          {
            id: 4,
            text: "Votre réaction face à une dette technique importante :",
            options: [
              { text: "Planifier un refactoring complet", profile: "perfectionniste" },
              { text: "Refactorer progressivement lors des nouvelles features", profile: "pragmatique" },
              { text: "Documenter les problèmes pour priorisation", profile: "organisateur" },
              { text: "Continuer, ça fonctionne actuellement", profile: "resultat" }
            ]
          },
          {
            id: 5,
            text: "Quand vous codez, vous privilégiez :",
            options: [
              { text: "La lisibilité et la maintenabilité", profile: "mainteneur" },
              { text: "L'optimisation et la performance", profile: "optimiseur" },
              { text: "La simplicité et le minimalisme", profile: "minimaliste" },
              { text: "L'extensibilité et la scalabilité", profile: "visionnaire" }
            ]
          },
          {
            id: 6,
            text: "Face à des spécifications ambiguës, vous :",
            options: [
              { text: "Demandez des clarifications avant de commencer", profile: "prudent" },
              { text: "Proposez votre interprétation et validez", profile: "proactif" },
              { text: "Commencez avec ce qui est clair", profile: "pragmatique" },
              { text: "Organisez un workshop de spécification", profile: "collaboratif" }
            ]
          },
          {
            id: 7,
            text: "Votre approche des tests logiciels :",
            options: [
              { text: "TDD systématique avant tout code", profile: "rigoureux" },
              { text: "Tests après implémentation des features", profile: "flexible" },
              { text: "Focus sur les tests d'intégration", profile: "globaliste" },
              { text: "Tests sur les parties critiques uniquement", profile: "selectif" }
            ]
          },
          {
            id: 8,
            text: "Dans une réunion technique qui s'éternise, vous :",
            options: [
              { text: "Proposez une décision pour avancer", profile: "decisionnaire" },
              { text: "Écoutez tous les arguments avant de trancher", profile: "diplomatique" },
              { text: "Suggérez de tester plusieurs approches", profile: "experimentateur" },
              { text: "Recentrez sur les objectifs initiaux", profile: "focalisé" }
            ]
          },
          {
            id: 9,
            text: "Votre environnement de travail idéal :",
            options: [
              { text: "Bureau calme pour concentration maximale", profile: "solitaire" },
              { text: "Open space avec interactions fréquentes", profile: "social" },
              { text: "Hybride : remote et présentiel mixés", profile: "equilibre" },
              { text: "Peu importe, je m'adapte facilement", profile: "adaptable" }
            ]
          },
          {
            id: 10,
            text: "Un collègue junior vous demande de l'aide :",
            options: [
              { text: "Vous lui expliquez la solution étape par étape", profile: "pedagogique" },
              { text: "Vous lui donnez des ressources pour apprendre", profile: "autonomiseur" },
              { text: "Vous codez ensemble en pair programming", profile: "collaboratif" },
              { text: "Vous résolvez rapidement son problème", profile: "efficace" }
            ]
          },
          {
            id: 11,
            text: "Face à deux technologies similaires pour un projet :",
            options: [
              { text: "Analyse comparative détaillée avec POC", profile: "analytique" },
              { text: "Choix basé sur votre expérience", profile: "experientiel" },
              { text: "Celle la plus populaire dans la communauté", profile: "suiveur" },
              { text: "La plus innovante et moderne", profile: "innovateur" }
            ]
          },
          {
            id: 12,
            text: "Votre rapport à la documentation :",
            options: [
              { text: "Je documente tout systématiquement", profile: "documentaliste" },
              { text: "Je documente l'essentiel et le complexe", profile: "selectif" },
              { text: "Le code se suffit à lui-même s'il est clair", profile: "minimaliste" },
              { text: "Je préfère des exemples et des schémas", profile: "visuel" }
            ]
          },
          {
            id: 13,
            text: "Un client demande une feature irréaliste :",
            options: [
              { text: "Vous expliquez pourquoi c'est impossible", profile: "direct" },
              { text: "Vous proposez une alternative faisable", profile: "constructif" },
              { text: "Vous estimez l'effort réel nécessaire", profile: "realiste" },
              { text: "Vous cherchez un compromis satisfaisant", profile: "negociateur" }
            ]
          },
          {
            id: 14,
            text: "Votre gestion des priorités multiples :",
            options: [
              { text: "Liste priorisée strictement suivie", profile: "organisé" },
              { text: "Traitement par urgence et impact", profile: "strategique" },
              { text: "Multitâche en parallèle", profile: "jongleur" },
              { text: "Focus sur une tâche à la fois", profile: "concentré" }
            ]
          },
          {
            id: 15,
            text: "Face à une technologie legacy que vous devez maintenir :",
            options: [
              { text: "Vous proposez une migration complète", profile: "modernisateur" },
              { text: "Vous apprenez et optimisez l'existant", profile: "adaptateur" },
              { text: "Vous documentez avant toute modification", profile: "prudent" },
              { text: "Vous isolez progressivement les modules", profile: "strategique" }
            ]
          },
          {
            id: 16,
            text: "Votre attitude face aux échecs :",
            options: [
              { text: "Analyse post-mortem détaillée", profile: "analytique" },
              { text: "Apprentissage rapide et pivot", profile: "resilient" },
              { text: "Partage d'expérience avec l'équipe", profile: "transparent" },
              { text: "Focus sur les solutions futures", profile: "optimiste" }
            ]
          },
          {
            id: 17,
            text: "Dans une code review, vous êtes plutôt :",
            options: [
              { text: "Rigoureux sur les standards et bonnes pratiques", profile: "exigeant" },
              { text: "Encourageant avec suggestions d'amélioration", profile: "bienveillant" },
              { text: "Focus sur la logique et l'architecture", profile: "architecte" },
              { text: "Validation rapide si ça fonctionne", profile: "pragmatique" }
            ]
          },
          {
            id: 18,
            text: "Votre approche de la veille technologique :",
            options: [
              { text: "Quotidienne sur plusieurs sources", profile: "curieux" },
              { text: "Hebdomadaire ciblée sur vos domaines", profile: "focalisé" },
              { text: "Lors de besoins projets spécifiques", profile: "utilitaire" },
              { text: "Participation à conférences et meetups", profile: "communautaire" }
            ]
          },
          {
            id: 19,
            text: "Face à une deadline serrée :",
            options: [
              { text: "Vous négociez le périmètre", profile: "realiste" },
              { text: "Vous augmentez votre rythme de travail", profile: "combattif" },
              { text: "Vous priorisez le MVP fonctionnel", profile: "pragmatique" },
              { text: "Vous impliquez l'équipe pour répartir", profile: "collaboratif" }
            ]
          },
          {
            id: 20,
            text: "Votre motivation principale dans l'IT :",
            options: [
              { text: "Résoudre des problèmes complexes", profile: "problem_solver" },
              { text: "Créer des produits impactants", profile: "batisseur" },
              { text: "Apprendre continuellement", profile: "apprenant" },
              { text: "Travailler avec une équipe talentueuse", profile: "teamplayer" }
            ]
          }
        ];

        const profiles = {
          analytique: { name: "Analytique", description: "Vous privilégiez l'analyse approfondie et la réflexion avant l'action" },
          pragmatique: { name: "Pragmatique", description: "Vous favorisez les solutions concrètes et l'efficacité immédiate" },
          collaboratif: { name: "Collaboratif", description: "Vous excellez dans le travail d'équipe et la communication" },
          prudent: { name: "Prudent", description: "Vous minimisez les risques et planifiez soigneusement" },
          theorique: { name: "Théorique", description: "Vous appréciez la compréhension profonde des concepts" },
          pratique: { name: "Pratique", description: "Vous apprenez mieux en faisant et en expérimentant" },
          architecte: { name: "Architecte", description: "Vous pensez structure, design patterns et vision globale" },
          developpeur: { name: "Développeur", description: "Vous aimez coder et implémenter des solutions" },
          perfectionniste: { name: "Perfectionniste", description: "Vous visez l'excellence et la qualité maximale" },
          optimiseur: { name: "Optimiseur", description: "Performance et efficacité sont vos priorités" },
          minimaliste: { name: "Minimaliste", description: "Vous valorisez la simplicité et l'essentiel" },
          visionnaire: { name: "Visionnaire", description: "Vous anticipez les évolutions futures" },
          proactif: { name: "Proactif", description: "Vous prenez des initiatives et proposez des solutions" },
          rigoureux: { name: "Rigoureux", description: "Méthodologie et rigueur guident votre travail" },
          innovateur: { name: "Innovateur", description: "Vous êtes attiré par les nouvelles technologies" },
          problem_solver: { name: "Problem Solver", description: "Résoudre des défis complexes vous motive" },
          apprenant: { name: "Apprenant Perpétuel", description: "L'apprentissage continu est votre moteur" }
        };

        // Icônes SVG simplifiées
        const CheckCircle = () => (
          <svg className="w-5 h-5 text-indigo-600" fill="currentColor" viewBox="0 0 20 20">
            <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clipRule="evenodd" />
          </svg>
        );

        const User = () => (
          <svg className="w-8 h-8 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
          </svg>
        );

        const BarChart3 = () => (
          <svg className="w-8 h-8 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
          </svg>
        );

        function ITPersonalityTest() {
          const [currentQuestion, setCurrentQuestion] = useState(0);
          const [answers, setAnswers] = useState({});
          const [showResults, setShowResults] = useState(false);

          const handleAnswer = (questionId, profile) => {
            const newAnswers = { ...answers, [questionId]: profile };
            setAnswers(newAnswers);

            if (currentQuestion < questions.length - 1) {
              setCurrentQuestion(currentQuestion + 1);
            } else {
              setShowResults(true);
            }
          };

          const calculateResults = () => {
            const profileCounts = {};
            Object.values(answers).forEach(profile => {
              profileCounts[profile] = (profileCounts[profile] || 0) + 1;
            });

            const sorted = Object.entries(profileCounts)
              .sort(([, a], [, b]) => b - a)
              .slice(0, 5);

            return sorted;
          };

          const resetTest = () => {
            setCurrentQuestion(0);
            setAnswers({});
            setShowResults(false);
          };

          const goToQuestion = (index) => {
            if (index < currentQuestion || answers[questions[index].id]) {
              setCurrentQuestion(index);
              setShowResults(false);
            }
          };

          if (showResults) {
            const results = calculateResults();
            const total = Object.keys(answers).length;

            return (
              <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6">
                <div className="max-w-4xl mx-auto">
                  <div className="bg-white rounded-2xl shadow-xl p-8">
                    <div className="flex items-center gap-3 mb-6">
                      <BarChart3 />
                      <h2 className="text-3xl font-bold text-gray-800">Votre Profil IT</h2>
                    </div>

                    <div className="mb-8 p-6 bg-indigo-50 rounded-lg">
                      <h3 className="text-xl font-semibold text-indigo-900 mb-2">
                        Profil dominant : {profiles[results[0][0]]?.name}
                      </h3>
                      <p className="text-indigo-700">
                        {profiles[results[0][0]]?.description}
                      </p>
                    </div>

                    <h4 className="text-lg font-semibold mb-4 text-gray-700">Répartition de votre personnalité :</h4>
                    <div className="space-y-4 mb-8">
                      {results.map(([profile, count]) => {
                        const percentage = (count / total) * 100;
                        return (
                          <div key={profile}>
                            <div className="flex justify-between mb-1">
                              <span className="font-medium text-gray-700">
                                {profiles[profile]?.name || profile}
                              </span>
                              <span className="text-gray-600">{count} ({percentage.toFixed(0)}%)</span>
                            </div>
                            <div className="w-full bg-gray-200 rounded-full h-3">
                              <div
                                className="bg-indigo-600 h-3 rounded-full transition-all duration-500"
                                style={{ width: `${percentage}%` }}
                              />
                            </div>
                          </div>
                        );
                      })}
                    </div>

                    <div className="bg-gray-50 p-6 rounded-lg mb-6">
                      <h4 className="font-semibold text-gray-800 mb-3">Analyse détaillée :</h4>
                      <div className="space-y-3 text-gray-700">
                        {results.slice(0, 3).map(([profile, count]) => (
                          <p key={profile}>
                            <strong>{profiles[profile]?.name} :</strong> {profiles[profile]?.description}
                          </p>
                        ))}
                      </div>
                    </div>

                    <button
                      onClick={resetTest}
                      className="w-full py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-semibold"
                    >
                      Recommencer le test
                    </button>
                  </div>
                </div>
              </div>
            );
          }

          const progress = ((currentQuestion + 1) / questions.length) * 100;
          const question = questions[currentQuestion];

          return (
            <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6">
              <div className="max-w-3xl mx-auto">
                <div className="bg-white rounded-2xl shadow-xl p-8">
                  <div className="flex items-center gap-3 mb-6">
                    <User />
                    <h1 className="text-3xl font-bold text-gray-800">Test de Personnalité IT</h1>
                  </div>

                  <div className="mb-6">
                    <div className="flex justify-between text-sm text-gray-600 mb-2">
                      <span>Question {currentQuestion + 1} sur {questions.length}</span>
                      <span>{Math.round(progress)}%</span>
                    </div>
                    <div className="w-full bg-gray-200 rounded-full h-2">
                      <div
                        className="bg-indigo-600 h-2 rounded-full transition-all duration-300"
                        style={{ width: `${progress}%` }}
                      />
                    </div>
                  </div>

                  <div className="flex flex-wrap gap-2 mb-6">
                    {questions.map((q, index) => (
                      <button
                        key={q.id}
                        onClick={() => goToQuestion(index)}
                        className={`w-8 h-8 rounded-full text-sm font-medium transition ${
                          answers[q.id]
                            ? 'bg-green-500 text-white'
                            : index === currentQuestion
                            ? 'bg-indigo-600 text-white'
                            : 'bg-gray-200 text-gray-600 cursor-not-allowed'
                        }`}
                        disabled={index > currentQuestion && !answers[q.id]}
                      >
                        {index + 1}
                      </button>
                    ))}
                  </div>

                  <div className="mb-8">
                    <h2 className="text-xl font-semibold text-gray-800 mb-6">
                      {question.text}
                    </h2>

                    <div className="space-y-3">
                      {question.options.map((option, index) => (
                        <button
                          key={index}
                          onClick={() => handleAnswer(question.id, option.profile)}
                          className="w-full p-4 text-left border-2 border-gray-200 rounded-lg hover:border-indigo-500 hover:bg-indigo-50 transition group"
                        >
                          <div className="flex items-center gap-3">
                            <div className="w-6 h-6 rounded-full border-2 border-gray-300 group-hover:border-indigo-500 flex items-center justify-center">
                              {answers[question.id] === option.profile && <CheckCircle />}
                            </div>
                            <span className="text-gray-700 group-hover:text-gray-900">
                              {option.text}
                            </span>
                          </div>
                        </button>
                      ))}
                    </div>
                  </div>

                  {currentQuestion > 0 && (
                    <button
                      onClick={() => setCurrentQuestion(currentQuestion - 1)}
                      className="text-indigo-600 hover:text-indigo-700 font-medium"
                    >
                      ← Question précédente
                    </button>
                  )}
                </div>
              </div>
            </div>
          );
        }

        ReactDOM.render(<ITPersonalityTest />, document.getElementById('root'));
    </script>
</body>
</html>
