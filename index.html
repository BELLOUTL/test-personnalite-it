<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Test de personnalité — Techniciens & Administrateurs IT (auto-évalué)</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--muted:#9aa4b2;--accent:#06b6d4;--glass: rgba(255,255,255,0.03)}
    body{font-family:Inter,Helvetica,Arial; margin:0; background:linear-gradient(180deg,#071129 0%, #0b1220 100%); color:#e6eef6}
    .wrap{max-width:980px;margin:28px auto;padding:24px}
    header{display:flex;align-items:center;gap:16px}
    h1{margin:0;font-size:20px}
    p.lead{margin:6px 0 18px;color:var(--muted)}
    .card{background:var(--card);border-radius:12px;padding:18px;box-shadow:0 6px 24px rgba(2,6,23,0.6)}
    .questions{display:grid;grid-template-columns:1fr;gap:10px;margin-top:12px}
    .q{background:var(--glass);padding:12px;border-radius:8px;display:flex;flex-direction:column}
    .q h4{margin:0 0 8px;font-size:15px}
    .scale{display:flex;gap:8px;align-items:center}
    label.scale-btn{flex:1;background:#0b1320;padding:8px;border-radius:6px;text-align:center;cursor:pointer;border:1px solid rgba(255,255,255,0.03)}
    input[type=radio]{display:none}
    input[type=radio]:checked + .scale-btn{background:linear-gradient(90deg,#042e36,#044e5b);box-shadow:0 4px 14px rgba(3,110,123,0.25)}
    .actions{display:flex;gap:8px;margin-top:14px}
    button{background:var(--accent);border:none;padding:10px 14px;border-radius:8px;color:#052025;font-weight:600;cursor:pointer}
    button.secondary{background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.04)}
    .results{margin-top:18px}
    .dim{background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);padding:12px;border-radius:8px;margin-bottom:10px}
    .dim h5{margin:0 0 6px}
    .bar{height:10px;background:#071827;border-radius:8px;overflow:hidden}
    .fill{height:100%;background:linear-gradient(90deg,#06b6d4,#0ea5a0);width:0%}
    .summary{white-space:pre-wrap;background:#03121a;padding:12px;border-radius:8px;font-size:14px;color:var(--muted)}
    footer{color:var(--muted);font-size:13px;margin-top:16px}
    @media(min-width:720px){.questions{grid-template-columns:1fr 1fr}}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>Test de personnalité — Techniciens & Administrateurs IT (auto‑évalué)</h1>
        <p class="lead">20 questions courtes. Évaluez-vous honnêtement sur une échelle de 1 (pas du tout) à 5 (tout à fait). Le test calcule six dimensions clés et propose une analyse et des axes d'amélioration.</p>
      </div>
    </header>

    <div class="card">
      <form id="testForm">
        <div class="questions" id="questions"></div>

        <div class="actions">
          <button type="button" id="calcBtn">Calculer le profil</button>
          <button type="button" class="secondary" id="resetBtn">Réinitialiser</button>
          <button type="button" class="secondary" id="printBtn">Imprimer / Enregistrer</button>
        </div>

        <div class="results" id="results" aria-live="polite"></div>
      </form>

      <footer>
        <strong>Mode d'emploi :</strong> Répondez honnêtement. <em>Le test est auto‑évalué — utile pour entretien, coaching, ou plan de formation.</em>
      </footer>
    </div>
  </div>

  <script>
    // Questions (20) réparties sur 6 dimensions
    const questions = [
      {id:1, text:"Je documente systématiquement mes interventions (tickets, scripts, procédures).", dim:'Rigueur'},
      {id:2, text:"Je réussis souvent à résoudre des incidents complexes en autonomie.", dim:'Résolution'},
      {id:3, text:"J'explique des solutions techniques à des personnes non techniques clairement.", dim:'Communication'},
      {id:4, text:"Je collabore volontiers avec d'autres équipes pour résoudre un problème.", dim:'Travail d\'équipe'},
      {id:5, text:"Je garde mon sang-froid lors d'une panne critique ou d'une montée en charge.", dim:'Gestion du stress'},
      {id:6, text:"Je respecte systématiquement les règles de sécurité et les procédures de conformité.", dim:'Sécurité'},
      {id:7, text:"Je planifie et priorise mes tâches pour éviter les urgences de dernière minute.", dim:'Rigueur'},
      {id:8, text:"Je sais réaliser des diagnostics réseau/serveur efficacement.", dim:'Résolution'},
      {id:9, text:"Je fournis des retours clairs et constructifs aux utilisateurs et collègues.", dim:'Communication'},
      {id:10, text:"Je aide les nouveaux collègues à s'intégrer et à monter en compétences.", dim:'Travail d\'équipe'},
      {id:11, text:"Je suis capable de prendre des décisions rapides quand la situation l'exige.", dim:'Gestion du stress'},
      {id:12, text:"Je applique et mets à jour les correctifs et les politiques de sécurité régulièrement.", dim:'Sécurité'},
      {id:13, text:"Je révise et teste mes changements avant de les déployer en production.", dim:'Rigueur'},
      {id:14, text:"Je identifie rapidement la cause racine d'un incident.", dim:'Résolution'},
      {id:15, text:"Je communique les délais et les étapes clairement lors d'une résolution.", dim:'Communication'},
      {id:16, text:"Je participe aux revues post-mortem et j'en tire des actions concrètes.", dim:'Travail d\'équipe'},
      {id:17, text:"Je garde une bonne productivité même quand les interruptions sont fréquentes.", dim:'Gestion du stress'},
      {id:18, text:"Je détecte et signale proactivement les failles ou comportements suspects.", dim:'Sécurité'},
      {id:19, text:"Je tiens mes documents et inventaires matériels à jour.", dim:'Rigueur'},
      {id:20, text:"Je m'informe régulièrement des nouvelles technologies et bonnes pratiques.", dim:'Résolution'}
    ];

    const dims = ['Rigueur','Résolution','Communication','Travail d\'équipe','Gestion du stress','Sécurité'];

    // Render questions
    const qContainer = document.getElementById('questions');
    questions.forEach(q=>{
      const div = document.createElement('div'); div.className='q';
      const h = document.createElement('h4'); h.textContent = q.id + '. ' + q.text; div.appendChild(h);
      const scale = document.createElement('div'); scale.className='scale';
      for(let v=1; v<=5; v++){
        const id = 'q'+q.id+'v'+v;
        const input = document.createElement('input'); input.type='radio'; input.name='q'+q.id; input.id=id; input.value=v;
        const label = document.createElement('label'); label.htmlFor=id; label.className='scale-btn'; label.textContent = v;
        scale.appendChild(input); scale.appendChild(label);
      }
      const note = document.createElement('div'); note.style.marginTop='8px'; note.style.fontSize='13px'; note.style.color='var(--muted)'; note.textContent='1 = Pas du tout · 5 = Tout à fait';
      div.appendChild(scale); div.appendChild(note);
      qContainer.appendChild(div);
    });

    function getAnswers(){
      const ans = {};
      for(const q of questions){
        const v = document.querySelector('input[name=q'+q.id+']:checked');
        ans[q.id] = v ? Number(v.value) : null;
      }
      return ans;
    }

    function scoreDimensions(ans){
      const sums = {}; const counts = {};
      dims.forEach(d=>{sums[d]=0;counts[d]=0});
      for(const q of questions){
        const val = ans[q.id];
        if(val!=null){ sums[q.dim] += val; counts[q.dim] += 1 }
      }
      const result = {};
      dims.forEach(d=>{
        const avg = counts[d] ? (sums[d]/counts[d]) : 0;
        result[d] = {sum:sums[d],count:counts[d],avg:Math.round(avg*100)/100};
      });
      return result;
    }

    function interpret(avg){
      if(avg===0) return {level:'Non évalué',color:'#617085',text:'Aucune réponse pour cette dimension.'};
      if(avg <= 2.4) return {level:'Faible',color:'#f43f5e',text:'Niveau faible — action recommandée.'};
      if(avg <= 3.5) return {level:'Moyen',color:'#f59e0b',text:'Niveau moyen — opportunité d\'amélioration.'};
      if(avg <= 4.2) return {level:'Bon',color:'#10b981',text:'Bon niveau — consolider et partager.'};
      return {level:'Excellent',color:'#06b6d4',text:'Très bon niveau — atout pour l\'équipe.'};
    }

    function buildAnalysis(dimScores){
      // Suggestions per dimension
      const suggestions = {
        'Rigueur':{
          weak:'Tendance à négliger documentation, tests ou inventaires — risque d\'erreurs répétées.',
          actions:['Mettre en place des checklists pour déploiement','Automatiser la documentation (scripts, templates)','Planifier des revues régulières des inventaires']
        },
        'Résolution':{
          weak:'Difficultés à diagnostiquer rapidement ou manque d\'autonomie sur incidents complexes.',
          actions:['Créer un référentiel de diagnostics et runbooks','Organiser des sessions pair-programming/sessions tech','Suivre des formations sur diagnostics (networking, Linux, AD)']
        },
        'Communication':{
          weak:'Explications techniques trop techniques ou manque d\'information aux parties prenantes.',
          actions:['S'entraîner à simplifier le langage (ex: 1 phrase claire)','Envoyer des comptes-rendus concis après intervention','Faire des ateliers de communication client interne']
        },
        "Travail d'équipe":{
          weak:'Travail en silo et faible partage des connaissances.',
          actions:['Organiser des revues post-mortem et partage des incidents','Mettre en place des binômes pour les on‑call','Encourager le mentoring interne']
        },
        'Gestion du stress':{
          weak:'Réactions sous pression pouvant altérer la qualité des actions.',
          actions:['Simulations d\'incidents pour s\'habituer aux pics','Techniques de respiration et micro-pauses','Définir rôles clairs lors des incidents (runbook)']
        },
        'Sécurité':{
          weak:'Prise en compte insuffisante des risques et des mises à jour.',
          actions:['Politique de patching et revue des accès','Formation régulière sécurité (phishing, MFA, least privilege)','Automatiser alerts et scans de vulnérabilités']
        }
      };

      let html = '';
      let overallSum = 0, overallCount = 0;
      for(const d of dims){
        const obj = dimScores[d];
        overallSum += obj.sum; overallCount += obj.count;
        const interp = interpret(obj.avg);
        const pct = obj.avg ? Math.round((obj.avg/5)*100) : 0;
        html += `<div class="dim"><h5>${d} — ${interp.level} (${obj.avg}/5)</h5>`;
        html += `<div class="bar"><div class="fill" style="width:${pct}%"></div></div>`;
        html += `<p style="margin:8px 0;color:var(--muted)">${interp.text}</p>`;
        // Weak points and actions
        html += `<strong>Signes faibles possibles :</strong><div style="margin:6px 0;color:#ffd9c7">${suggestions[d].weak}</div>`;
        html += `<strong>Axes d'amélioration :</strong><ul>`;
        suggestions[d].actions.forEach(a=>{ html += `<li>${a}</li>` });
        html += `</ul></div>`;
      }

      const overallAvg = overallCount ? Math.round((overallSum/overallCount)*100)/100 : 0;
      const overallInterp = interpret(overallAvg);
      const profile = profileLabel(overallAvg, dimScores);

      html = `<div style="margin-bottom:12px"><h4>Profil global — ${overallInterp.level} (${overallAvg}/5)</h4><p style="color:var(--muted)">${profile}</p></div>` + html;

      return {html, overallAvg};
    }

    function profileLabel(overallAvg, dimScores){
      // simple multi-dim profile description
      const strong = Object.entries(dimScores).filter(([k,v])=>v.avg>=4.3).map(a=>a[0]);
      const weak = Object.entries(dimScores).filter(([k,v])=>v.avg>0 && v.avg<=2.4).map(a=>a[0]);
      let lines = [];
      if(strong.length) lines.push('Points forts : ' + strong.join(', ')+'.');
      if(weak.length) lines.push('Points faibles : ' + weak.join(', ')+'.');
      if(!strong.length && !weak.length) lines.push('Profil équilibré — ni points très faibles, ni forces marquées.');
      lines.push('Score global calculé comme la moyenne des réponses.');
      return lines.join(' ');
    }

    // Event handlers
    document.getElementById('calcBtn').addEventListener('click', ()=>{
      const ans = getAnswers();
      // Check unanswered
      const unanswered = Object.values(ans).filter(v=>v==null).length;
      if(unanswered>0){
        if(!confirm(`Vous n'avez pas répondu à ${unanswered} question(s). Continuer et calculer quand même ?`)) return;
      }
      const dimScores = scoreDimensions(ans);
      const analysis = buildAnalysis(dimScores);
      const resDiv = document.getElementById('results');
      resDiv.innerHTML = analysis.html + `<div class="summary">Résumé recommandé:\n- Score global: ${analysis.overallAvg}/5\n- ${new Date().toLocaleString()}\n\nConseils personnalisés : consultez chaque dimension ci‑dessus pour actions concrètes.</div>`;
      // animate bars
      document.querySelectorAll('.dim').forEach(d=>{
        const fill = d.querySelector('.fill');
        const percent = fill.style.width;
        setTimeout(()=>{ fill.style.width = percent; },50);
      });
    });

    document.getElementById('resetBtn').addEventListener('click', ()=>{
      if(!confirm('Réinitialiser toutes les réponses ?')) return;
      document.querySelectorAll('input[type=radio]').forEach(i=>i.checked=false);
      document.getElementById('results').innerHTML='';
    });

    document.getElementById('printBtn').addEventListener('click', ()=>{
      window.print();
    });
  </script>
</body>
</html>
